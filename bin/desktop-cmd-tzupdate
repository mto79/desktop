#!/usr/bin/env bash

new_timezone=$(timedatectl list-timezones | fzf)

if [[ -n "$new_timezone" ]]; then
  echo "Setting timezone to $new_timezone"
  if sudo timedatectl set-timezone "$new_timezone"; then
    desktop-restart-waybar
    notify-send "ÓôÅ   Time updated and timezone set to $new_timezone"
  else
    notify-send "Failed to set timezone to $new_timezone"
  fi
else
  echo "No timezone selected"
fi
